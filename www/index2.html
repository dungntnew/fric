<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width">
    <title></title>
    <link href="lib/ionic/css/ionic.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
    <link href="css/takephoto.css" rel="stylesheet">
    <!-- IF using Sass (run gulp sass first), then uncomment below and remove the CSS includes above
    <link href="css/ionic.app.css" rel="stylesheet">
    -->
    <!-- ionic/angularjs js -->
    
    <!-- use for widget -->
    <script src="lib/jquery/dist/jquery.min.js"></script>
    <script src="lib/fabric/dist/fabric.js"></script>
    <!-- use for filter image -->
    <script type="text/javascript" src="lib/caman/dist/caman.full.min.js"></script>
    <!-- your app's js -->
    
  </head>
  <body ng-controller="AppCtrl">
    <table class="row">
      <tr>
        <td><div id="photo"><canvas id="photoCanvas" width="500" height="500">Uw browser ondersteund geen canvas</canvas></div></td>
        <td>

        <div id="filterContainer">
          <h4>Please select your photo effect.</h4>
                <div id="PresetFilters">
                  
                    <a data-preset="vintage" class="">Vintage</a>
                  
                    <a data-preset="lomo">Lomo</a>
                  
                    <a data-preset="clarity">Clarity</a>
                  
                    <a data-preset="sinCity">Sin City</a>
                  
                    <a data-preset="sunrise">Sunrise</a>
                  
                    <a data-preset="crossProcess" class="Active">Cross Process</a>
                  
                    <a data-preset="orangePeel">Orange Peel</a>
                  
                    <a data-preset="love">Love</a>
                  
                    <a data-preset="grungy">Grungy</a>
                  
                    <a data-preset="jarques">Jarques</a>
                  
                    <a data-preset="pinhole">Pinhole</a>
                  
                    <a data-preset="oldBoot">Old Boot</a>
                  
                    <a data-preset="glowingSun">Glowing Sun</a>
                  
                    <a data-preset="hazyDays">Hazy Days</a>
                  
                    <a data-preset="herMajesty">Her Majesty</a>
                  
                    <a data-preset="nostalgia">Nostalgia</a>
                  
                    <a data-preset="hemingway">Hemingway</a>
                  
                    <a data-preset="concentrate">Concentrate</a>
                  
                  </div>
        </div>

        </td>
      </tr>
    </table>
    <script>
    $(document).ready(function(){
      
      Caman.Event.listen("processStart", function (job) {
           console.log("Start:", job.name);
     });

      Caman.Event.listen("processComplete", function (job) {
           console.log("Finished:", job.name);
       });

      Caman("#photoCanvas", "./img/example.png", function () {

                 this.crop(320, 480);
                 this.render();
     });

          var filters = $('#PresetFilters  a');

          filters.click(function(e){

            e.preventDefault();

            var f = $(this);

            if(f.is('.active')){
                // Apply filters only once
                return false;
            }

            filters.removeClass('active');
            f.addClass('active');

            // Listen for clicks on the filters
            var effect = $.trim($(f[0]).attr("data-preset"));

            Caman("#photoCanvas", "./img/example.png", function () {
                // If such an effect exists, use it:
                if( effect in this){
                    this.revert();
                    this[effect]();
                    this.render();
                }
            });
       });

    })
          

    </script>
  </body>
</html>